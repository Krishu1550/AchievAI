<div class="container mx-auto p-4 relative my-20">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-bold">My Actions</h2>
        <button (click)="toggleCreatePanel()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
            + Create Action
        </button>
    </div>
    @if(isLoading)
    {
        <div class="text-gray-500">Loading Action...</div>
        <div *ngIf="errors" class="text-red-500">{{errors}}</div>
    } @else {
        <div class="mt-3">
            <h4 class="font-bold">Action</h4>
            <ul>
                @for(action of actions$ | async; track  action.id)
                {
                <li>
                    <p>Action: {{action?.title}}</p>
                    <p>Details: {{action?.description}}</p>
                    <p>Time Taken: {{action?.duration}}</p>
                    <button class="text-blue-500 text-sm mt-1" (click)="editAction(action)">Edit</button>
                </li>
                }
            </ul>
        </div>
    }
    @if(isShowcreatePanel)
    {
    <div class="fixed top-0 right-0 w-96 h-full bg-white shadow-lg p-6 z-50 transition-transform transform"
        [ngClass]="{'translate-x-0': isShowcreatePanel, 'translate-x-full': !isShowcreatePanel}">

        <div class="flex justify-between items-center mb-4">
            <h3 class="text-xl font-semibold">{{ isEditable ? 'Edit Action' : 'Create Action' }}</h3>
            <button (click)="toggleCreatePanel()" class="text-gray-500 hover:text-gray-700">&times;</button>
        </div>

        <app-create-action-item 
        (createAction)="handleCreateAction($event)"
        (updateAction)="handleUpdateAction($event)"
        [action]="editToAction"
        [isEditable]="isEditable"
        [goalId]="goalId"
        ></app-create-action-item>
    </div>
    }
</div>