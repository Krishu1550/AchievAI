<div class="max-w-4xl mx-auto mt-12 p-6 bg-white rounded-2xl shadow-lg my-25">

  <!-- Title -->
  <h1 class="text-4xl font-extrabold text-blue-700 mb-3 text-center">
    🌍 Learn Language with AI
  </h1>
  <p class="text-center text-gray-600 mb-8 text-lg">
    Practice speaking, listening, and improving your fluency with AI-powered assistance.
  </p>

  <!-- Language Selector -->
  <div class="flex justify-center mb-8 gap-3 items-center">
    <label for="language" class="text-gray-700 font-semibold">Select Language:</label>
    <select id="language" [(ngModel)]="selectedLanguage"
      class="border rounded-xl px-4 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none">
      <option *ngFor="let lang of languages" [value]="lang.code">{{ lang.name }}</option>
    </select>
  </div>

  <!-- Chat Window -->
<!-- Chat Window -->
<div class="chat-window border rounded-lg p-4 h-96 overflow-y-auto mb-4 flex flex-col gap-2">
  <div *ngFor="let msg of fromMessages" class="flex" 
       [ngClass]="{ 'justify-end': msg.from === 'user', 'justify-start': msg.from === 'ai' }">

    <div class="relative max-w-xs px-4 py-2 rounded-xl"
         [ngClass]="{
           'bg-blue-100 text-blue-900': msg.from === 'user',
           'bg-gray-200 text-gray-800': msg.from === 'ai'
         }">

      <!-- Message text -->
      <span class="block break-words">{{ msg.text }}</span>

      <!-- Speak Icon -->
      <button (click)="speakMessages(msg.id)" 
              class="absolute -right-8 top-1/2 transform -translate-y-1/2 text-blue-600 hover:text-blue-800">
        🔊
      </button>
    </div>

  </div>
</div>


  <!-- Input & Buttons -->
  <div class="flex gap-3 items-center">
    <input type="text" [(ngModel)]="userInput" placeholder="Type your message..."
      class="flex-1 border rounded-xl px-4 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500" />

    <button (click)="sendMessage()"
      class="px-5 py-2 bg-blue-600 text-white rounded-xl shadow hover:bg-blue-700 transition">
      Send
    </button>

    <button (click)="startVoiceInput()"
      class="px-5 py-2 bg-green-500 text-white rounded-xl shadow hover:bg-green-600 transition">
      🎤 Speech
    </button>
  </div>

</div>
